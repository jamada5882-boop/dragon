<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>판타지 용조련사의 용(龍)무협 정복기 - 세계관 지도</title>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="bg-stone-900 text-stone-100 font-sans antialiased overflow-hidden w-screen h-screen">

    <div id="intro-overlay" class="fixed inset-0 z-[300] bg-black flex items-center justify-center">
        <video id="intro-video" class="w-full h-full object-cover" playsinline poster="poster.png">
            <source src="intro.mp4" type="video/mp4">
        </video>

        <div id="start-screen"
            class="absolute inset-0 z-[310] flex flex-col items-center justify-center bg-black/60 backdrop-blur-sm">
            <button id="start-btn"
                class="px-8 py-3 border-2 border-amber-500 text-amber-500 text-xl font-bold rounded hover:bg-amber-500 hover:text-black transition-all duration-300 shadow-[0_0_20px_rgba(245,158,11,0.5)]">
                세계관 입장하기
            </button>
            <p class="mt-4 text-stone-400 text-sm">소리와 함께 재생됩니다.</p>
        </div>

        <button id="skip-intro"
            class="hidden absolute bottom-10 right-10 px-6 py-2 border border-white/50 text-white/80 rounded hover:bg-white hover:text-black hover:border-transparent transition-all duration-300 z-50 backdrop-blur-sm">
            SKIP >>
        </button>
    </div>


    <div id="gate-screen" class="fixed inset-0 z-[200] bg-black cursor-pointer">
        <picture>
            <source media="(max-width: 767px)" srcset="./cover_mobile.png">
            <img src="./cover_pc.png" alt="대문" class="w-full h-full object-cover block select-none">
        </picture>

        <div
            class="absolute bottom-10 w-full text-center animate-bounce text-white/80 text-lg font-bold tracking-widest drop-shadow-md pointer-events-none">
            화면을 터치하여 지도 확인
        </div>
    </div>


    <div class="relative w-full h-full bg-[#eaddcf]">
        <picture>
            <source media="(max-width: 767px)" srcset="./image_2.png">
            <img src="./image_1.png" alt="천하총도" class="w-full h-full block select-none">
        </picture>

        <div class="mobile-pins block md:hidden absolute inset-0">
            <button class="map-pin dragon-pin" style="top: 38%; left: 52%; width: 13.5%; height: 7.5%;"
                data-id="0"></button>
            <button class="map-pin" style="top: 39.5%; left: 26%;" data-id="1"></button>
            <button class="map-pin" style="top: 42.5%; left: 67.5%;" data-id="2"></button>
            <button class="map-pin" style="top: 40.5%; left: 82%;" data-id="3"></button>
            <button class="map-pin" style="top: 46.2%; left: 72.5%;" data-id="4"></button>
            <button class="map-pin" style="top: 46.8%; left: 65%;" data-id="5"></button>
            <button class="map-pin" style="top: 52.7%; left: 75.4%;" data-id="6"></button>
            <button class="map-pin" style="top: 51.8%; left: 51%;" data-id="7"></button>
            <button class="map-pin" style="top: 52.7%; left: 35.8%;" data-id="8"></button>
            <button class="map-pin" style="top: 54.5%; left: 58%;" data-id="9"></button>
            <button class="map-pin" style="top: 50.5%; left: 18%;" data-id="10"></button>
            <button class="map-pin" style="top: 58.8%; left: 63%;" data-id="11"></button>
            <button class="map-pin" style="top: 62%; left: 50%;" data-id="12"></button>
            <button class="map-pin" style="top: 54.1%; left: 20%;" data-id="13"></button>
        </div>

        <div class="desktop-pins hidden md:block absolute inset-0">
            <button class="map-pin dragon-pin" style="top: 25.3%; left: 51.3%; width: 7.7%; height: 13.7%;"
                data-id="0"></button>
            <button class="map-pin" style="top: 27.8%; left: 34%;" data-id="1"></button>
            <button class="map-pin" style="top: 34%; left: 61.7%;" data-id="2"></button>
            <button class="map-pin" style="top: 30%; left: 71%;" data-id="3"></button>
            <button class="map-pin" style="top: 42%; left: 65%;" data-id="4"></button>
            <button class="map-pin" style="top: 43.4%; left: 60%;" data-id="5"></button>
            <button class="map-pin" style="top: 55.6%; left: 66.9%;" data-id="6"></button>
            <button class="map-pin" style="top: 53.8%; left: 50.78%;" data-id="7"></button>
            <button class="map-pin" style="top: 55.7%; left: 40.4%;" data-id="8"></button>
            <button class="map-pin" style="top: 59.5%; left: 55.5%;" data-id="9"></button>
            <button class="map-pin" style="top: 50.8%; left: 28.5%;" data-id="10"></button>
            <button class="map-pin" style="top: 68.5%; left: 58.3%;" data-id="11"></button>
            <button class="map-pin" style="top: 75%; left: 50%;" data-id="12"></button>
            <button class="map-pin" style="top: 58.7%; left: 30%;" data-id="13"></button>
        </div>
    </div>


    <a href="/main" target="_self"
        class="fixed top-6 right-6 z-40 group flex items-center gap-2 px-6 py-3 bg-stone-900/80 border border-amber-500 text-amber-500 font-bold rounded-lg backdrop-blur-sm hover:bg-amber-500 hover:text-stone-900 transition-all duration-300 shadow-[0_0_15px_rgba(245,158,11,0.3)] hover:shadow-[0_0_25px_rgba(245,158,11,0.6)]">
        <span>대화 시작</span>
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transform group-hover:translate-x-1 transition-transform"
            fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
        </svg>
    </a>

    <div id="modal"
        class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 opacity-0 transition-opacity duration-300">
        <div
            class="bg-stone-800 w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden transform scale-95 transition-all duration-300 border border-stone-600 relative flex flex-col mx-4 md:mx-0">
            <button id="close-btn"
                class="absolute top-3 right-3 z-10 bg-black/50 text-white rounded-full p-2 hover:bg-black/80 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>

            <div class="w-full aspect-video bg-stone-900 relative flex-shrink-0">
                <img id="modal-img" src="" alt="지역 이미지" class="w-full h-full object-cover">
            </div>

            <div class="p-6 overflow-y-auto max-h-[45vh] bg-stone-800 custom-scrollbar">
                <div class="flex items-center justify-between mb-4">
                    <h2 id="modal-name" class="text-2xl font-bold text-white"></h2>
                    <span id="modal-level"
                        class="px-3 py-1 rounded bg-amber-900/50 text-amber-400 border border-amber-700/50 text-sm font-bold"></span>
                </div>

                <div class="space-y-4">
                    <div class="bg-stone-900/50 p-3 rounded-lg border border-stone-700">
                        <h3 class="text-stone-500 text-xs font-bold uppercase tracking-widest mb-1">전승 무공</h3>
                        <p id="modal-skill" class="text-stone-200 font-medium"></p>
                    </div>

                    <div>
                        <h3 class="text-stone-500 text-xs font-bold uppercase tracking-widest mb-1">인물 설정</h3>
                        <p id="modal-desc" class="text-stone-300 leading-relaxed text-base"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <audio id="bgm-audio" loop>
        <source src="bgm.mp3" type="audio/mp3">
    </audio>

    <button id="bgm-toggle"
        class="fixed bottom-4 right-4 z-40 bg-black/40 text-white/80 p-2 rounded-full hover:bg-black/80 hover:text-white transition-all backdrop-blur-sm border border-white/10 shadow-lg">
        <svg id="icon-on" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
        </svg>
        <svg id="icon-off" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2" />
        </svg>
    </button>

    <script src="script.js"></script>
</body>

</html>